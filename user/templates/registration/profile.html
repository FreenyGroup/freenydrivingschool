
{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load course %}
{% block content %}


<div class="bg-gray-100">
  <div class="md:container md:mx-auto mb-5 p-5">
      <div class="lg:flex no-wrap md:-mx-2 ">
          <div class="w-full lg:w-3/12 md:mx-2">
              <div class="bg-white p-3 border-t-4 border-primary rounded-lg">
                  <h1 class="text-secondary font-bold text-xl leading-8 my-1">{{ object.first_name }} {{ object.last_name }}</h1>
                  <h3 class="text-gray-600 font-lg text-semibold leading-6">Email: {{ object.email }}</h3>
                  {% if request.user|has_group:"Instructors" %}
                  <p class="text-sm text-gray-500 hover:text-gray-600 leading-6">Bio: {{object.bio}}</p>
                  {% endif %}
                  <ul
                      class="bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 mt-3 divide-y rounded shadow-sm">
                      <li class="flex items-center py-3">
                          <span>Status</span>
                          <span class="ml-auto">
                            {% if object.is_active %}
                            <span
                              class="bg-gradient-to-r from-[#B25C43] via-[#9F4241] to-[#8B283E] hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg py-1 px-2 text-white text-sm">
                              Active
                            </span>
                            {% else %}
                            <span
                              class="bg-gradient-to-r from-[#B25C43] via-[#9F4241] to-[#8B283E] hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg py-1 px-2 text-white text-sm">
                              Not Active
                            </span>
                            {% endif %}
                          </span>
                      </li>
                      <li class="flex items-center py-3">
                          <span>Member since</span>
                          <span class="ml-auto">{{object.date_joined|date:"M d, Y"}}</span>
                      </li>
                  </ul>
              </div>
              <div class="my-4"></div>
          </div>
          <div class="w-full lg:w-9/12 mx-2 h-fit">
              <div class="bg-white p-3 shadow-sm rounded-lg border-t-4 border-primary">
                  <div class="flex items-center space-x-2 font-semibold text-gray-900 leading-8">
                      <span clas="text-green-500">
                          <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                              stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                          </svg>
                      </span>
                      <span class="tracking-wide">About</span>
                  </div>
                  <div class="text-gray-700 rounded-lg">
                      <div class="grid md:grid-cols-2 text-sm rounded-lg">
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">First Name:</div>
                              <div class="px-4 py-2">{{ object.first_name }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Last Name:</div>
                              <div class="px-4 py-2">{{ object.last_name }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Nickname:</div>
                              <div class="px-4 py-2">{{ object.nickname }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Phone No.</div>
                              <div class="px-4 py-2">{{ object.phone }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Address:</div>
                              <div class="px-4 py-2">{{ object.ship_address }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Apt#, etc.</div>
                              <div class="px-4 py-2">{{ object.address2 }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Email:</div>
                              <div class="px-4 py-2">
                                {{ object.email }}
                              </div>
                          </div>
                          <div class="grid grid-cols-2">
                              <div class="px-4 py-2 font-semibold">Date Of Birth:</div>
                              <div class="px-4 py-2">{{ object.dob }}</div>
                          </div>
                          <div class="grid grid-cols-2">
                            <div class="px-4 py-2 font-semibold">City:</div>
                            <div class="px-4 py-2">
                              {{ object.locality }}
                            </div>
                        </div>
                        <div class="grid grid-cols-2">
                          <div class="px-4 py-2 font-semibold">State:</div>
                          <div class="px-4 py-2">
                            {{ object.state }}
                          </div>
                      </div>
                      <div class="grid grid-cols-2">
                          <div class="px-4 py-2 font-semibold">Postcode:</div>
                          <div class="px-4 py-2">{{ object.postcode }}</div>
                      </div>
                      </div>
                  </div>
              </div>
              <div class="my-4"></div>
              <div class="rounded-lg">
                {% if form.errors %}
                <div class="flex p-4 mb-4 text-sm text-secondary bg-red-100 rounded-lg" role="alert">
                  <svg aria-hidden="true" class="flex-shrink-0 inline w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>
                  <span class="sr-only">Danger</span>
                  <div>
                    <span class="font-medium">Oops!</span>
                      <ul class="mt-1.5 ml-4 text-secondary list-disc list-inside">
                        {% for field in form %}
                        {% for error in field.errors %}
                        <li>{{ error|escape }}</li>
                        {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                        <li>{{ error|escape }}</li>
                        {% endfor %}
                    </ul>
                  </div>
                </div>
                {% endif %}
                {% if user.email == object.email %}
                <form method="POST" enctype="multipart/form-data" class="rounded-lg border-t-4 border-primary">
                  {% csrf_token %}
                  <div class="overflow-hidden shadow rounded-lg">
                    <div class="bg-white px-4 py-5 sm:p-6">
                      <div class="grid grid-cols-6 gap-6">
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.first_name|as_crispy_field }}              
                        </div>
          
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.last_name|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.nickname|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3">
                          {{ form.phone|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3">
                          {{ form.dob|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3">
                          {{ form.ship_address|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3">
                          {{ form.address2|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.locality|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.state|as_crispy_field }}
                        </div>
          
                        <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                          {{ form.postcode|as_crispy_field }}
                        </div>
                        {% if request.user|has_group:"Instructors" %} 
                        <div class="col-span-6">
                          {{ form.bio|as_crispy_field }}
                          <p class="mt-2 text-sm text-gray-500">Brief description for your profile. URLs are hyperlinked.</p>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                    <div class="bg-gray-50 px-4 py-3 text-right sm:px-6">
                      <button type="submit" class="bg-gradient-to-r from-[#B25C43] via-[#9F4241] to-[#8B283E] hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg inline-flex justify-center rounded-md py-2 px-4 text-sm font-medium text-white ">Save</button>
                    </div>
                  </div>
                </form>
                {% endif %}
              </div>
          </div>
      </div>
  </div>
</div>

{% endblock content %}